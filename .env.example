# =============================================================================
# Django Core Settings
# =============================================================================
DJANGO_ENV=dev
DJANGO_SECRET_KEY=your-secret-key-here-change-in-production
DJANGO_DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0
DJANGO_SETTINGS_MODULE=config.settings

# =============================================================================
# Database Configuration (PostgreSQL)
# =============================================================================
DB_ENGINE=django.db.backends.postgresql
DB_NAME=hedgemind
DB_USER=postgres
DB_PASSWORD=postgres
DB_HOST=localhost
DB_PORT=5432

# =============================================================================
# Celery Configuration
# =============================================================================
# Broker URL (Redis or RabbitMQ)
CELERY_BROKER_URL=redis://localhost:6379/0
# Result backend
CELERY_RESULT_BACKEND=redis://localhost:6379/0
# Task serialization
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
# Timezone
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=True
# Task routing
CELERY_TASK_ROUTES={}
# Task time limits
CELERY_TASK_TIME_LIMIT=30*60
CELERY_TASK_SOFT_TIME_LIMIT=25*60
# Worker concurrency
CELERY_WORKER_CONCURRENCY=4
CELERY_WORKER_PREFETCH_MULTIPLIER=4

# =============================================================================
# S3-Compatible Storage Configuration
# =============================================================================
# Storage backend (use ''storages.backends.s3boto3.S3Boto3Storage'' for S3)
USE_S3_STORAGE=False
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_STORAGE_BUCKET_NAME=hedgemind-uploads
AWS_S3_REGION_NAME=us-east-1
AWS_S3_ENDPOINT_URL=
AWS_S3_CUSTOM_DOMAIN=
AWS_S3_OBJECT_PARAMETERS={"CacheControl": "max-age=86400"}
AWS_DEFAULT_ACL=private
AWS_S3_VERIFY=True
AWS_S3_FILE_OVERWRITE=False
AWS_QUERYSTRING_AUTH=True
AWS_QUERYSTRING_EXPIRE=3600

# For S3-compatible services (MinIO, DigitalOcean Spaces, etc.)
# Set AWS_S3_ENDPOINT_URL to your service endpoint
# Example for MinIO: http://localhost:9000
# Example for DigitalOcean: https://nyc3.digitaloceanspaces.com

# Media files (uploads)
MEDIA_ROOT=media
MEDIA_URL=/media/
AWS_MEDIA_LOCATION=media

# Static files
STATIC_ROOT=staticfiles
STATIC_URL=/static/
AWS_STATIC_LOCATION=static

# PDF storage
AWS_PDF_BUCKET_NAME=hedgemind-pdfs
AWS_PDF_LOCATION=pdfs

# =============================================================================
# Multi-Tenant Configuration
# =============================================================================
# Tenant resolution method (subdomain, header, path)
TENANT_RESOLUTION_METHOD=header
TENANT_HEADER_NAME=X-Organization-ID
TENANT_SUBDOMAIN_PATTERN=.*
# Default organization for single-tenant mode
DEFAULT_ORGANIZATION_ID=1

# =============================================================================
# Email Configuration
# =============================================================================
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_USE_SSL=False
EMAIL_HOST_USER=
EMAIL_HOST_PASSWORD=
EMAIL_FROM_ADDRESS=noreply@hedgemind.com
DEFAULT_FROM_EMAIL=noreply@hedgemind.com

# =============================================================================
# Logging Configuration
# =============================================================================
LOG_LEVEL=INFO
LOG_FILE=logs/hedgemind.log
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=10

# =============================================================================
# Application Settings
# =============================================================================
TIME_ZONE=UTC
LANGUAGE_CODE=en-us
USE_TZ=True
USE_I18N=True
USE_L10N=True

# =============================================================================
# ETL & Data Pipeline Configuration
# =============================================================================
# Market data providers
MARKET_DATA_PROVIDER=default
MARKET_DATA_API_KEY=
MARKET_DATA_BASE_URL=

# FX data provider
FX_DATA_PROVIDER=default
FX_DATA_API_KEY=
FX_DATA_BASE_URL=

# Portfolio import settings
PORTFOLIO_IMPORT_MAX_FILE_SIZE=10485760
PORTFOLIO_IMPORT_ALLOWED_EXTENSIONS=xlsx,xls,csv
PORTFOLIO_IMPORT_CHUNK_SIZE=1000

# Daily close workflow
DAILY_CLOSE_TIME=17:00
DAILY_CLOSE_TIMEZONE=America/New_York
ENABLE_AUTOMATIC_DAILY_CLOSE=False

# =============================================================================
# Analytics & Reporting Configuration
# =============================================================================
# Report generation
REPORT_STORAGE_BACKEND=s3
REPORT_RETENTION_DAYS=90
REPORT_MAX_GENERATION_TIME=300

# PDF rendering
PDF_RENDERER=weasyprint
PDF_TEMPLATE_DIR=templates/reports

# =============================================================================
# Security Settings
# =============================================================================
# CORS settings (if using API)
CORS_ALLOWED_ORIGINS=
CORS_ALLOW_CREDENTIALS=True

# CSRF settings
CSRF_TRUSTED_ORIGINS=http://localhost:8000,http://127.0.0.1:8000

# Session settings
SESSION_COOKIE_AGE=86400
SESSION_COOKIE_SECURE=False
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE=Lax

# =============================================================================
# Cache Configuration (Redis)
# =============================================================================
CACHE_BACKEND=django.core.cache.backends.redis.RedisCache
CACHE_LOCATION=redis://127.0.0.1:6379/1
CACHE_TIMEOUT=300
CACHE_KEY_PREFIX=hedgemind

# =============================================================================
# Development/Debug Settings
# =============================================================================
# Django Debug Toolbar
ENABLE_DEBUG_TOOLBAR=False
DEBUG_TOOLBAR_CONFIG={}

# =============================================================================
# Monitoring & Observability (Optional)
# =============================================================================
# Sentry (error tracking)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# =============================================================================
# External Service Integrations (Optional)
# =============================================================================
# Reference data providers
REFERENCE_DATA_PROVIDER=default
REFERENCE_DATA_API_KEY=
REFERENCE_DATA_BASE_URL=

# =============================================================================
# Feature Flags
# =============================================================================
ENABLE_ANALYTICS_ENGINE=True
ENABLE_REPORT_GENERATION=True
ENABLE_MARKET_DATA_INGESTION=True
ENABLE_PORTFOLIO_IMPORT=True
